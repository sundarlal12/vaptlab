import React, { useState } from "react";
import { ChevronDown } from "lucide-react";
import { motion, AnimatePresence } from "framer-motion";
import ContactPopup from './ContactPopup';
const hipaaPentestingFaqs = [
  {
    q: "What is HIPAA penetration testing?",
    a: "HIPAA penetration testing is a security assessment that evaluates healthcare organizations' systems and controls for protecting patient health information (PHI). It helps identify vulnerabilities that could lead to data breaches and ensures compliance with HIPAA Security Rule requirements."
  },
  {
    q: "Who needs HIPAA penetration testing?",
    a: "Healthcare providers, health plans, healthcare clearinghouses, and their business associates who handle protected health information (PHI) must comply with HIPAA requirements, including regular security assessments and penetration testing."
  },
  {
    q: "What systems are tested for HIPAA compliance?",
    a: "We test all systems that store, process, or transmit electronic protected health information (ePHI) including electronic health records (EHR), patient portals, medical devices, healthcare applications, and supporting network infrastructure."
  },
  {
    q: "How does penetration testing help with HIPAA compliance?",
    a: "Penetration testing validates that your technical safeguards are working effectively to protect ePHI. It provides evidence of proactive security measures for HIPAA audits and helps identify vulnerabilities before they can be exploited by attackers."
  }
];

const HIPAAPentestingFAQ: React.FC = () => {
  const [openIndex, setOpenIndex] = useState<number | null>(null);

  const toggleFaq = (index: number) => {
    setOpenIndex(openIndex === index ? null : index);
  };

  return (
    <section className="py-20 bg-[#f3fcf7]">
      <div className="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <h2 className="text-3xl lg:text-4xl font-bold text-center text-gray-900 mb-12">
          HIPAA Penetration Testing FAQ
        </h2>

        <div className="space-y-4">
          {hipaaPentestingFaqs.map((faq, index) => (
            <div
              key={index}
              className="border border-gray-200 rounded-lg bg-white"
            >
              <button
                className="w-full flex justify-between items-center text-left px-6 py-4 text-gray-900 font-medium"
                onClick={() => toggleFaq(index)}
              >
                <span>{faq.q}</span>
                <ChevronDown
                  className={`w-5 h-5 text-gray-500 transform transition-transform duration-300 ${
                    openIndex === index ? "rotate-180" : ""
                  }`}
                />
              </button>

              <AnimatePresence initial={false}>
                {openIndex === index && (
                  <motion.div
                    key="content"
                    initial={{ height: 0, opacity: 0 }}
                    animate={{ height: "auto", opacity: 1 }}
                    exit={{ height: 0, opacity: 0 }}
                    transition={{ duration: 0.3, ease: "easeInOut" }}
                    className="overflow-hidden"
                  >
                    <div
                      className="px-6 pb-4 text-gray-600 prose prose-sm"
                      dangerouslySetInnerHTML={{ __html: faq.a }}
                    />
                  </motion.div>
                )}
              </AnimatePresence>
            </div>
          ))}
        </div>
      </div>
    </section>
  );
};

export default HIPAAPentestingFAQ;